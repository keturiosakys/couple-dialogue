---
import ServiceLayout from "@layouts/ServiceLayout.astro";
import { allServices } from "@lib/api";

const url = new URL(Astro.request.url);
import { getServices, mapServices } from "@lib/utils";
const permalink = url.href;

export async function getStaticPaths() {
	const lang = "lt";
	const services = await getServices(lang, allServices);

	return services.flatMap(mapServices(lang));
}

const { lang, title, description, content, kainos_prierasas, price } =
	Astro.props;
---

<ServiceLayout
	{lang}
	{title}
	{description}
	{content}
	{price}
	{kainos_prierasas}
	{permalink}
/>
