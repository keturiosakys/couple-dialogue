---
import CTA from "./CTA/CTA.astro";
import { Picture } from "astro:assets";

const { imageUrl, imageAltText, imageMetadata, name, shortBio, slug, copy } = Astro.props;
const { width, height } = imageMetadata;
---

<article>
	<div class="image-wrapper">
		<Picture
			src={imageUrl}
			width={width}
			height={height}
			widths={[200, 400]}
			sizes={"(max-width: 768px) 200px, 400px"}
			alt={imageAltText}
		/>
	</div>
	<div class="text-wrapper">
		<h3>{name}</h3>
		<p>{shortBio}</p>
		<CTA ctaUrl={slug} ctaCopy={copy} />
	</div>
</article>

<style>
	article {
		align-items: center;
		display: grid;
		gap: 1em;
	}

	@media (min-width: 768px) {
		article {
			grid-template-columns: repeat(2, 1fr);
		}

	}

	article > h3 {
		margin: 0;
	}

	.image-wrapper {
		display: flex;
		justify-content: center;
	}

	img {
		width: 100%;
		object-fit: cover;
		display: block;
	}

	.text-wrapper {
		max-width: 400px;
	}

	.text-wrapper > * {
		margin: 1em 0;
	}
</style>
